<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.act.walk.IWalkDAO">

	<select id="list" resultType="com.act.walk.WalkDTO">
	   SELECT WP_SID AS WPSID,
       WP_TITLE AS WPTITLE,
       WP_CONTENT AS WPCONTENT,
       WP_START AS WPSTART,
       WP_END AS WPEND,
       WP_ADDR1 AS WPADDR1,
       WP_CREATED AS WPCREATED,
       WP_MAX_PET AS WPMAXPET,
       IP_SID AS IPSID,
       WL_SID AS WLSID
       FROM WALK_POST
	</select>
	
	<select id="IndexTagList" resultType="com.act.walk.WalkDTO">
		SELECT IWPT_SID AS IWPTSID, IWPT_NAME AS IWPTNAME
		FROM INDEX_WALK_POST_TAG
		ORDER BY IWPT_SID
	</select>
	
	<select id="gradeList" resultType="com.act.walk.WalkDTO">
		SELECT IWI_SID AS IWISID, IWI_PRICE AS IWIPRICE, IWI_POSSIBLE_MATCH_COUNTS AS IWICOUNT,
        IWI_GRADE AS IWIGRADE
        FROM INDEX_WALK_INFO
	</select>
	
	<select id="walkCancelNotice" resultType="java.lang.Integer">
		SELECT COUNT(WC.WCL_SID) AS WCLCOUNT
		FROM WALK_CANCEL WC
		    JOIN WALK_BOOK WB
		    ON WC.WB_SID = WB.WB_SID
		        JOIN WALK_LICENSE WL
		        ON WB.WL_SID = WL.WL_SID
		            JOIN WALK_FOLLOWING_LIST WFL
		            ON WL.WL_SID = WFL.WL_SID
		                JOIN MEMBER MEM
		                ON WFL.MEM_SID = MEM.MEM_SID
		                    JOIN JOIN_MEMBER JM
		                    ON MEM.MEM_SID = JM.MEM_SID
		WHERE  WC.WCL_DATE = SYSDATE
		AND MEM.MEM_SID = #{memSid}
	</select>
	


</mapper>